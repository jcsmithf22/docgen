<%# locals: (f:, type:) -%>

<div class="grid grid-cols-1 gap-x-6 gap-y-8 md:grid-cols-6 md:col-span-6 nested-form-wrapper p-8 rounded-lg bg-sky-50 border-sky-100 border relative" data-new-record="<%= f.object.new_record? %>">

  <%= f.hidden_field :lock_version %>
  <%= f.hidden_field :action_type, value: type %>

  <%= f.hidden_field :organization_id, value: @organization.id %>
  <%= f.hidden_field :user_id, value: Current.user.id %>

  <div class="md:col-span-4 md:row-start-1">
    <%= f.label :title, class: "default-label" %>
    <%= f.text_field :title, class: "default-input" %>
  </div>

  <div class="md:col-span-2 xl:col-span-2 md:row-start-1 relative">
    <%= f.label :due_date, class: "default-label" %>
    <div data-controller="datepicker">
      <%= f.text_field :due_date, data: { datepicker_target: "input" }, class: "default-input" %>
      <button type="button" data-datepicker-target="toggle" class="absolute top-1.5 right-1.5">
        <svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"/>
        </svg>
      </button>
    </div>
  </div>

  <div class="md:col-span-6 md:row-start-2">
    <%= f.label :description, class: "default-label" %>
    <%= f.text_area :description, class: "default-input", rows: 3 %>
  </div>

  <div class="md:col-span-6 grid grid-cols-1 gap-x-6 gap-y-8 md:grid-cols-6" data-controller="checked">

    <div class="md:col-span-3 flex gap-x-2 items-center">
      <%= f.check_box :verified, checked: f.object.verified, class: "h-4 w-4 rounded border-zinc-300 text-blue-600 focus:ring-blue-600", data: { action: "click->checked#toggle", checked_target: "checkbox" } %>
      <%= f.label :verified, "Verified", class: "default-label" %>
    </div>

    <div class="md:col-span-6 grid grid-cols-1 gap-x-6 gap-y-8 md:grid-cols-6 hidden" data-checked-target="container">

      <div class="md:col-span-3 xl:col-span-2 md:row-start-1 relative">
        <%= f.label :verified_date, class: "default-label" %>
        <div data-controller="datepicker">
          <%= f.text_field :verified_date, data: { datepicker_target: "input" }, class: "default-input" %>
          <button type="button" data-datepicker-target="toggle" class="absolute top-1.5 right-1.5">
            <svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="md:col-span-6 md:row-start-2">
        <%= f.label :verification_description, class: "default-label" %>
        <%= f.text_area :verification_description, class: "default-input", rows: "3" %>
      </div>
    </div>
  </div>

  <div class="md:col-span-6 grid grid-cols-1 gap-x-6 gap-y-8 md:grid-cols-6" data-controller="checked">

    <div class="md:col-span-3 flex gap-x-2 items-center">
      <%= f.check_box :validated, checked: f.object.validated, class: "h-4 w-4 rounded border-zinc-300 text-blue-600 focus:ring-blue-600", data: { action: "click->checked#toggle", checked_target: "checkbox" } %>
      <%= f.label :validated, "Validated", class: "default-label" %>
    </div>

    <div class="md:col-span-6 grid grid-cols-1 gap-x-6 gap-y-8 md:grid-cols-6 hidden" data-checked-target="container">

      <div class="md:col-span-3 xl:col-span-2 md:row-start-1 relative">
        <%= f.label :validated_date, class: "default-label" %>
        <div data-controller="datepicker">
          <%= f.text_field :validated_date, data: { datepicker_target: "input" }, class: "default-input" %>
          <button type="button" data-datepicker-target="toggle" class="absolute top-1.5 right-1.5">
            <svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="md:col-span-6 md:row-start-2">
        <%= f.label :validation_description, class: "default-label" %>
        <%= f.text_area :validation_description, class: "default-input", rows: "3" %>
      </div>
    </div>
  </div>

  <div class="md:col-span-6 grid grid-cols-1 gap-x-6 gap-y-8 md:grid-cols-6" data-controller="checked">

    <div class="md:col-span-3 flex gap-x-2 items-center">
      <%= f.check_box :implemented, checked: f.object.implemented, class: "h-4 w-4 rounded border-zinc-300 text-blue-600 focus:ring-blue-600", data: { action: "click->checked#toggle", checked_target: "checkbox" } %>
      <%= f.label :implemented, "Implemented", class: "default-label" %>
    </div>

    <div class="md:col-span-3 xl:col-span-2 md:row-start-2 relative hidden" data-checked-target="container">
      <%= f.label :implemented_date, class: "default-label" %>
      <div data-controller="datepicker">
        <%= f.text_field :implemented_date, data: { datepicker_target: "input" }, class: "default-input" %>
        <button type="button" data-datepicker-target="toggle" class="absolute top-1.5 right-1.5">
          <svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <div class="md:col-span-6 grid grid-cols-1 gap-x-6 gap-y-8 md:grid-cols-6" data-controller="checked">

    <div class="md:col-span-3 flex gap-x-2 items-center">
      <%= f.check_box :removed, checked: f.object.implemented, class: "h-4 w-4 rounded border-zinc-300 text-blue-600 focus:ring-blue-600", data: { action: "click->checked#toggle", checked_target: "checkbox" } %>
      <%= f.label :removed, "Removed", class: "default-label" %>
    </div>

    <div class="md:col-span-3 xl:col-span-2 md:row-start-2 relative hidden" data-checked-target="container">
      <%= f.label :removed_date, class: "default-label" %>
      <div data-controller="datepicker">
        <%= f.text_field :removed_date, data: { datepicker_target: "input" }, class: "default-input" %>
        <button type="button" data-datepicker-target="toggle" class="absolute top-1.5 right-1.5">
          <svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <button type="button" class="p-2 absolute top-1 right-1 hover:bg-sky-200 rounded-md text-sm text-sky-800" data-action="nested-form#remove">Remove</button>

  <%= f.hidden_field :_destroy %>
</div>
